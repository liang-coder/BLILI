import 'package:blili/command/utils/encrypt/basic.dart';
import 'package:dio/dio.dart';
import 'package:blili/command/utils/encrypt/traceid.dart';
import 'package:blili/command/http/api.dart';
import 'package:blili/command/utils/device/id.dart';


void main() async {
  final String buvid = "XYCC9B8C5E3B118FBC2D96EA4689A37A4DDA4";
  final Singer singer = Singer();
  int timestampSeconds = DateTime.now().millisecondsSinceEpoch ~/ 1000;
  final String sessionid = Id.sessionid();

  final String fp =
      "81fe653614321d40268be8e6a0782422202512120246011193d33032cf99d562";

  final String deviceinfo = Id.deviceInfoid(
      device: '{"imei":"","androidid":"df35b4b2a63a5f89","oaid":""}');

  final String traceid = TraceId.genTraceId();

  final Options options = Options();

  final Map<String, String> fingerprint_params = {
    "appkey": "dfca71928277209b",
    "build": "2001100",
    "c_locale": "zh_CN",
    "channel": "bili",
    "disable_rcmd": "0",
    "mobi_app": "android_hd",
    "platform": "android",
    "s_locale": "zh_CN",
    "statistics":
        "{\"appId\":5,\"platform\":3,\"version\":\"2.0.1\",\"abtest\":\"\"}",
    "ts": timestampSeconds.toString(),
  };

  options.headers = {
    "buvid": buvid,
    "fp_local": fp,
    "session_id": sessionid,
    "env": "prod",
    "app-key": "android_hd",
    "user-agent":
        "Mozilla/5.0 BiliDroid/2.0.1 (bbcallen@gmail.com) os/android model/HPB-AP10 mobi_app/android_hd build/2001100 channel/bili innerVer/2001100 osVer/9 network/2",
    "x-bili-trace-id": traceid,
    "x-bili-aurora-eid": "",
    "x-bili-mid": "",
    "x-bili-aurora-zone": "",
    "x-bili-gaia-vtoken": "",
    "x-bili-ticket": "",
  };

  // final Map<String, dynamic> Sign_params = singer.sign(params);
  final Map<String, dynamic> fingerprint_Sign_params =
      singer.sign(fingerprint_params);

  print(options.headers);

  final Map<String, dynamic> data = {
    "key":"B5C3610D67B49F2AF953D4AAAD9C3716B134A91B0837D698C682DDCECF71043A9519FADD53DDE9DF01BD7DD6B0EBB456F983547EC4A691E9957136275AA59D59E01F539B40B7D0E5859F5A5A5FF84D23CE5F9C97A20571ED4C638CE3751F23F1E3B1D06407B1A06393BDDF89EED6529F55AF887874FCB4283C1089BCFB5569B3",
    "content":"9FDEB2CB9AE86971658B5B7E29161AAD39205B6E9BA84D261223A0100C593D45798E5BAD52EE2D9DFED66382C548EC69BF7E1C65EA3C8CFB314013CB117A4188241C29B8613C685211178A54731C9A03CB087DF28D57876D22D80DFCE67F31C01CDA1B98BC37E863BF9C83F760F2D5FAB5A0836E807E3C0D10ACFB4BA95DF2F1C46B46EF39C96751B9C01265C120881E31730E00BF6FF6B24988272FF75A2AA8320F06B51AF5AFCE730A4740D8130287BC43A44CC55B3CD1C16D738BB770E622D875CC32E98B84572D43ECC672104301D815030F218F7DB457130F5B4B4F00D361434B9151D4622464E0F54F3FAB72018E9CE51F85B569073A44D634E4A9F568C5C50E3F6D002F1A70AB0059ECEF0233D784EFD31D5D922EC4027A993AD58CCB2EA41D9C8D078AA05025B86FC7F337062DFFD32CCCD732D7A5901CD0A4DC5AE811CC712A59F22F4E34C39AD0C2305E77411BB79ABFD741D5A39709C481340E2F1BA53E96AC308C3BD138E3E64C48696BF3F1163EC802698367BB5D7D412F89B2D7B731EC5AF21C02A375B87E1F341F1D433F100ED6260BA059E7854FDD7DA22343BD71D005F7CE9BE83028A09D446B882BDA32CFFDF65D7EEE27941AE7B7169CE579838C3D2C5EA530E31DC3C412775EACE7D90D47029FDA57344825ABB2FBD0046401B7AF3BDD09822D1FEF5836622B7281A9C314054AC2C9495229AC0338868B192B324102016A0D783292B450D745E587052D8F93AA652C35856BBA13762D77AC33B49377259267BCC3D928AC7960E9B57471FEACF5024DE89E8E5543E32C6ADD591DE2560B1F26E0A9EAE026A77480D93557FDB35CC291B0CC03C9DA0E96A1AD8BCA9A5DFC46916BBE26DDD89093F1C1239C987C607E530B6B2C70B50C2656BF9CAE0850DEFC6F8AD45ECE91F08A8D449904959E3E0E20DC7181CC064423A832941AC32A0441666DABC131DD216A561446E278FBE3129CF82DFFDFDD305A319DADD2B371335F023C5468770D2D63BD27DE635896818420BA4FF438048C1274BCDE81FD0C51F120E5A83991E87C0BD7E22549B0CF916DAD16A1D566B02E8A791F23AD7FBEB0E7241B0E58652CB8F625682756818C5DD931AEC41D0FA15B3611C490CEA58E85353351ABC5B47FCAF2D92EAA4F957AD435D8C297AE99D73E8DFE6820A2E942AAAEABA5CAC2D1C625D349400E233D3CB9E571EE3F1F9973381504228F65D63E4E318609609734483C87A06F36F0953B8F9B9798D8887D392EC237AD41C0F1C01B00F901EC8C13F872DE5946A8802B1DA8D6603F8755C703E4937F5EF7709507C6EC584E228F3782DA36C5DEE756CD9811066E942B725216269FA72D93F8077E421850F71D89DBFDE0307603921D720D9928052F1EF60E470195D3ABEB5FE1CC0C71F790F665C9684F01F09F487D4BE543C97447D12320AD9F925BFB5FED53E84B011951E012074DE1687802A397B06CC8D5774780D74920736DCA302BABB523E5E8DF1AC41FC9A477312D60FC6BCAF2D7742DCB4EA934A12AF8EA301DB79FE29E7B879A371B1CD82B83D90C81D893CAE9888D9E3876BC77E07130AB07D138D1F49A2CD5744EFFE189890BD52321F01C50926F3A73089106CA0F702AE9B8EB6648F0944CFFA0CB8CB0D35BB241C318995B948EF39BD43F6C587EE7D5D9B9A973C34EE9B7FB905700D9BF26C8B25F7CB60B36E467CBB91FD7428C291F12CEC1957935F8BDB8FB721EDCE7FC1A338F3D848176A1F33D592ED7EAB2E79EDD40FB1D2E954FF9232E150AE475689DC29F6F8817ADAFFAA0B054E5D72032699C20D3BAAF05DAE2A899D9B3AD795DD1FCCC3B1795782E012B7F9C9086ABA2C62C45E37A4D0E63544784218DACC30A8BCDD794B445A505F3FE4FEC37F7D918E843ADE43FA4837358808453CDC07970D5697501B7108C3D547E5B6F9B0B76098726697913A26EF5B590EEE7BC1A3D00F598D77CDA52ED7FC0E86A8CE8F4C742BDFF97283B8A64DB1177D97F9DE1CFAA9A626A5FEA8A845F9B716EE755697BEF9708094E21890B04D0F0C600A3C7B45B3FC5EBA0A2A2DB5DA2266C54E4021A256892E8D115A77CA851FDC5B9FACACA788C5A8B1F2F214A467A31FB847C02193CC31CAB622AFC1691AFCA03C83E03106B5BC58F3CE258710B21A5D8EB147A36E9F5ECC23FA5009FD062371D497D1EA536EF396B36CC257793B298BD23F8C376BD7099BE903FA1FA422B4961BCD2351FD81479B44C8BFD75E747307E84BAF04AC99E8C851CCA4E940904E77A95A26798B373C5157B65608D723E29AD7051076016D851B09603EEE581829CEB7592B0301282D120CD286CA4A04FA174C14AEA50C81DDBE5861528BE8E7B24C6CCE25E42A4234420F65982EB2738F18BD82134506FEC2F2D375B4297087C71C435228BB06319A86FD806FE68929AAC5A0C392A72EC14613C1D2D3AAC48CE1F05DB181A254B99EC0938C23E6EDDE4F6474067D6F58C04DFE92C981CF0E4059A4AB11422C28E7C0C821A6056480B8CA8217325FF1CF1555520D0EED3E9E80334E08E10972BA0BB8C925214E1C71C11F468740656F2BC8C527B21ECF4042780EE4542062755A22F571FC18C5DB2072C346A711A654F64270B323C06681E3226C9F1A4B950B49C4EE657F4FC6E3E29AB330CD0A703CC0F3740E5CE585B93A1AD59F6DF53AEF6FA1C02A4C0EACBB27D452AE65D5487BE62813149585EA5C84DC58D971E4003B60CD147659215B28F954D84A2720468BBF5F3D71441956257690DEFCCB1C56A58186418834F9538220E020BFEE94B4F79B56857DC64FA0EF7E7F4CE8CE03DF77CEE77BBEC511510AD408807177FBDA19AC8C232E1C3CDF14CFF834722C7DBB781CA645CA41C93604C1D2A42AA163C26AFEAF001D5ED803FDDAA860DB7A699A70AF287677DFBB4D4928ADED581EBF946007F385FBE811B24B4CBF831FBDF29CBC181C7F8281FD9BBF0B47916E8C0CD91D00ADB385CA2142AFDC7110CC4A2577A20FE2018803608AD63F025CA66BE9D042157404732391F57F2D48F002CD88B20C2086EB3E5CB99BC7866FAFAFB614DC40978D5A7DAC393C1F42265E421198162115D894664E26BFCD7D2B443594676209E22126BF6130C0CE605FD4AF9C4BABEE40979384F51A8B1764E29C433AA3CEB18457A791603443BEC6FAF6944632FB674783776702082CC17FC8218D60DB96BBF9642A62547A3D981CF65BAC53D0CC57D438A39C5AECC6E5D779203832F61E3368FF57BF84B474EC4FE29A6B693F84F89DDC8F2A0E2A9FC5F479A8AFF61E6F842204099A40D19272C7E21E2DCF678E1BB5459761305F5EC1019350E1BFF681BC98E2C7C93D11F57F6FDA006F13F641A3FF25AF108B0AB521244DAE835653E0E870F3740E5CE585B93A1AD59F6DF53AEF6FA1C02A4C0EACBB27D452AE65D5487BE62813149585EA5C84DC58D971E4003B60CD147659215B28F954D84A2720468BBF5F3D71441956257690DEFCCB1C56A58186418834F9538220E020BFEE94B4F79B56857DC64FA0EF7E7F4CE8CE03DF77CEE77BBEC511510AD408807177FBDA19AC8C232E1C3CDF14CFF834722C7DBB781CA645CA41C93604C1D2A42AA163C26AFEAF001D5ED803FDDAA860DB7A699A70AF287677DFBB4D4928ADED581EBF946007F385FBE811B24B4CBF831FBDF29CBC181C7F8281FD9BBF0B47916E8C0CD91D00ADB385CA2142AFDC7110CC4A2577A20FE2018803608AD63F025CA66BE9D042157404732391F57F2D48F002CD88B20C2086EB3E5CB99BC7866FAFAFB614DC40978D5A7DAC393C1F42265E421198162115D894664E26BFCD7D2B443594676209E22126BF6130C0CE605FD4AF9C4BABEE40979384F51A8B1764E29C433AA3CEB18457A791603443BEC6FAF6944632FB674783776702082CC17FC8218D60DB96BBF9642A62547A3D981CF65BAC53D0CC57D438A39C5AECC6E5D779203832F61E3368FF57BF84B474EC4FE29A6B693F84F891273E2CBF968A39B0CA82C01B4D1BE1594D682396F22F95711A3825DE8D1F383A0C30256EA27EDC0206E1B5CB5DBD3CBCA54FFEF6B7DA70FD96125BDC3A205268B16A507F7329F530064187CFA0EB8EEAFE5E6624B2D46819B49DE8FD1D75B1DBF7AA7BEFF1E97A478CC646A935AB08D7F80D02EA01C6C341CA712930226DABCA0ADF28DE16141133D3FC91D72A13DA161428A48A1CB9325688C66F9E1AC98673F1D68804ADDFB44D6A3738D5F69CE947A6A9051DD33EB9BBC58333420C12070053B0CD390D692ABD1A3119E163D961B3EC9BEAA571BE5CEF9308578B7B3054410493C4875DB901796462607C4F88E17EC6B70A01F09BB6B02377478CEC3C7B6E9F32CF23818AA765CF32355ACAC69EB59E0DE1A30D3875042DB7FCB65F58106C15B5C7AC2C05D1A3226844A0E91C37472B00CC30E81842DF68D2C103E0E7C29BA4B5B972908C9856E79102C39CC64037080279990C13866DCEF020435055803AED54BCB705E024C4589DBC470E459D0FE5CA874A0DA265CB31EC0EB961DCD5C0631B58D6216A825E5393685F2CB995AAA987FAEE635B7D31D1E337F5AC0CA8734A3091A2C0A4780CF83317D13819C397342C81140C6DBAA1AE1751CA335643C58A6B9A93F07A6A9A812E7FE85BFD75F9A632BD3C85F5041E8AAD6338C225D919FE2FFF9B584A6A839FE5229EB8425C89634ECF76183EE3E8834FFE30E5FC6631F972312D17A36896C04A9655DE81A17375F9BBE618DBA9437ED14A3AC5267309C59CC9BD02CAACA429E8B9C1B2972B3FA257AD78779189F6A03EAD1062B443145CCA2729DEC698F5559FCB7BC2A66ADC7F1EC5869F095A23CFAB38FCA14B838BB21F4298D9E2988EDDAAF861A0B843338E210A964CC27AB35E8BB324BC9241CD1A09FA8C331504BC4D0945AB6BC3C5C0E4A3B8A650282438CFE3EA4B03C19FDBFAD6831F8D6C0376DEEA122335A37EC306EF5E789D8F65878EB5B7E107622E84CF50BC005C38F295BD7892B7006E247A74AC3CACFC059877E75E7DB7DA0699543A2ACE51F2EB71B87AB7543E61CAF097D4368933F59D6F8D7431B2F7C095423B0870F1A759F90C0F868A62918615C6A17B601B95D5E616F91C635B84833E974276B589D10CA45852C121BA39C300A29E9EC8CD9B24E3FEAED22FD93F9EA0B35DD7C6F27B8AAAB2D9AD4D3DE0CB5A82A8EDC54C3759B13EFC6D81F2E5FEEE736130D484DBBD042B528685A149926900403B770C5B19E1C35DC53D2003EB5C0FACA0E599E720F9FBF6196848F954CFA5F935A84FF42EAB7212DC26EA4CF7F59FB40C3157AF9382A0756CDDE0A2F08F16230942BB5F3CEAAF9F1BA7D4C593FC383DE4F379A3E4EF7BDEE5809DD67A78D8D04EA571DC25576C413CD5E9EAD3512D0B76E51DECF1F96A6982982FE37EE5FA1DA3E5F88801291D0A622CF2FB6A6451F"
  };

  // final recommned_result = await Api.recommned(queryParameters: Sign_params);

  final fingerprint_result = await Api.fingerprint(
      queryParameters: fingerprint_Sign_params, option: options, data: data);
}
