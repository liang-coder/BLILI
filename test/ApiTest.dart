import 'package:blili/command/utils/buvid/buvid.dart';
import 'package:blili/command/http/singer.dart';
import 'package:dio/dio.dart';
import 'package:blili/command/utils/fp/fp.dart';
import 'package:blili/command/utils/sessionid/sessionid.dart';
import 'package:blili/command/utils/BDeviceInfo.dart';
import 'package:blili/command/utils/traceid.dart';
import 'package:blili/command/http/api.dart';

void main() async {
  final String bbuvid = "XY281A22F391BE12587C774044A105B90B777";
  final Singer singer = Singer();
  int timestampSeconds = DateTime.now().millisecondsSinceEpoch ~/ 1000;
  final Fp fper = Fp();
  final Sessionid sessionid = Sessionid();

  final String fp =
      "05315f2eaa0171a4a0ad5a4a08a9a37c20251218160718f8be3d5707d5874be0";

  final String deviceinfo = BDeviceInfoEncryptor.encryptDeviceInfo(
      '{"imei":"","androidid":"a1b2c3d4e5p67890","oaid":""}');

  final String traceid = TraceId.genTraceId();

  final Options options = Options();

  final Map<String, String> fingerprint_params = {
    "appkey": "dfca71928277209b",
    "build": "2001100",
    "c_locale": "zh_CN",
    "channel": "bili",
    "disable_rcmd": "0",
    "mobi_app": "android_hd",
    "platform": "android",
    "s_locale": "zh_CN",
    "statistics":
        "{\"appId\":5,\"platform\":3,\"version\":\"2.0.1\",\"abtest\":\"\"}",
    "ts": timestampSeconds.toString(),
  };

  options.headers = {
    "buvid": bbuvid,
    "fp_local": fp,
    "session_id": sessionid,
    "env": "prod",
    "app-key": "android_hd",
    "user-agent":
        "Mozilla/5.0 BiliDroid/2.0.1 (bbcallen@gmail.com) os/android model/HPB-AP10 mobi_app/android_hd build/2001100 channel/bili innerVer/2001100 osVer/9 network/2",
    "x-bili-trace-id": traceid,
    "x-bili-aurora-eid": "",
    "x-bili-mid": "",
    "x-bili-aurora-zone": "",
    "x-bili-gaia-vtoken": "",
    "x-bili-ticket": "",
  };

  // final Map<String, dynamic> Sign_params = singer.sign(params);
  final Map<String, dynamic> fingerprint_Sign_params =
      singer.sign(fingerprint_params);

  print(options.headers);

  final Map<String, dynamic> data = {
    "key":
        "8CECEF9D04AB7CE2C5C082817112391B7932BDBF61890B4154842B3181B9B1D480E7063C7522292EEDCAE38DB0DC65C9C1B78EBCB34260483017CE8755ED79524E89BF5B0C64024258820A7A16A8FA733456280E700F2B60D83CEE6B6B8E31A2239C3664BD2A1DE1C601D3579D6EE51B3BAE76EE8FDE345EBDAACD8320EF77DD",
    "content":
        "95F2632E3051D2B04F72ED21597BFB9CD4405370625FB1C789FB565F20E2711C4A897DAD19F9B7B50A7D599B10BCB0AD3111BDC2B1B1E6E965C022F20FF53E3669C47662E79B9E1C00CB0F4A57750D595089954F5AD8C73A5F6C40EA670E41900BC9235055942BA02E56B090984473D24D0BB67D620F46FAF9B050FD6F07AE39BFEC7071D0E833CCC47C166277B062BDDCD61B1D8FF099ABA091E43B11350B925EA2F7CBC5F9BE6ABAC92373D2CBDC35ECD8FC255A570A2116D10E3AB558F4AC494BD4F21C71B58EC50B1DC7B3FDE452CCB9125DAF7E1BD45123CBC40202BDE903BC5514CDBC38519E1C304DC6AE8D873B36E1885DC0979E9C25B9D39567D92405AFE2E5BCF9048826637B221518F137AA343D8B3C30A84A2B63003CC5BEC95CF65B75C082D7A56CCFA2FE981FA4976D1260FFA906AE2C72E6D0852D1FCE4C22A54FB188460DFF70F6A85ECA331CE37A564B124732C9B28E8D6682B888E1B07B7746DF20874C87B7D6045489A79C5319A07EC7C451A963FAB6440B41ED5171F8156797E49661CFBB8D6F8CB50D01C4F2ED670463C298BA5FDE6D5F64BCD119F6CCECF468EA43BF4790228D1D7E79C761A3A337F5730F91563672E74FC82D833838A4A51DA9B740C99D28C7E591175C3330D0F7423F88B6FF05DA38739FBDBE1262B55E70B569A56D326A529A838F6FB2C9AEE4BA5245DD6B3F94C179DCE231C6C9F713D17CC49C9D5A61036C79FF67B6811A5D995CD9E51C546255BC605128ADB8DC66F51D27E8C8FFB5F15739FC417FC1FEF2EC162D678454542FEC3330A0D1E082B48F9740DCF4CDEFED50B7EFE6ABE4C768CF8AA6F4D09F95986C2DAA19A625CB805CE257E72019EA6A9F5AC659DDD8B9F58AD1CF99CB1F7DEA39F4BF4516A91D686A737E731F452CC64F0357A99623BB1F157E87E8A22C3DB5750B60447C22649DDD92B54945B3CF0978B6F3F1CB2B9D6096C0E39532C98F838F1052917565700834E788DA464ED0F869B03422938668461D4B509622B9238857FFCCBF43A100059CEE898E25EFF28A0DFD7C513A5E73000BC36016609978723DF105A6C1213D20CB2ACBD4D3C92CB15D4EFA1DE21116E8F668DB1648FBED8BF4AA7FE92796757A2989FF339B869D1A17426E2EF603A2120C02832BCB30EC483BE6CCB5E979E767ED6F302E609A55700716ECB3715B6FF2DC5E9DA7EE36D1B3EAD86F286FBA6DE1A51646F4638A8DE6A808B3BD027F2C0A375AAB3DF7F364796775A261F9CA3BB52766A49D6C7C46A70F378C0868C6A5D8D7B0D5895BC5A766263561B89A0CA1C50DA468D31B952CA6592AC74AB4B2C7D64E0E1B6EA4D8AC92987BE7BBB538480D5B45CC12182C651C272E5D5BE2CA764038873B94FEB8A111E63D85AEA224D8872FEC997B2A81C3CF809B9D36B45298338828466FCF49188460C8E5151C3784D64D55C5565BFD0A49EED70E3E8FFA6011928463F820921F322E629F17BC93337710480F6EE44C3C8ECD5185C8545B54DB17F9E73EEFBB74A0F69E959DC622156243CCB97B72E75AB1F85AD83449308C572419CB6A3799073165DE152A464898E15A9D27CFFC7A7F1B6FE84AF65DE4302FDDFB038E259A47BFAEFE67B6B2FE3D3E6C9D8D1E0BD2CA5F589C58FFC3D60F17F1F6C21F74DFD1990999653EE03E1188D622A08EE23136A2968FEFE0D2DEAA8625E190CFB9BAB97421EC419E58927369207480B534789BB5F763096784B4D9A6F532130B08837D4C7C6282FF38DBFF9892FC9AA91764BB745025372FEF169A1A6E902697022DDA9B1A6997B4DF7CA50497C7B72960B5703497E4A74B644E8D4645E79156DD1B649CFE4BE422C8B5323962BD5EAC562332E6476BFF5E9D7894EF2EE7D74232698BEBE35BE7022135E2931864A15CB066A36AC13F147AC4415DE55B984979BF204F4FE0ECC18114CFD981CEBFD46B3FE59AA5103FF54386866962A370209B377D7420E1827400F5C335BD54B2EE386CAEC227099F526B08A95B1B39874EEEB115778DD7182A3068A8301B75EDBB6D89FDD21DD9AED19F8A34BA92C174FB26D3DF0721482DA2B2426FFAD205DE4533598B262AC18DC4D59685A36BE894E6428C21056B0F2DC3765AE4900DDACB8A9D2BF148C28C9AAAE51A6701DEE1268E1F37C0D35432AEF190FC945077169A2040F3A1F736BDF8F0A1C004952E2799A6ED4E9D32BD99A43947396FCAC1466B9445CC8ADF10839167994073B3FD60B744B2C52C2A7422630FEEAD2C71AE552C452FAD16C846F88FB6CFE6F3C2FB431D46C20F9841255BC424399D36EA50E8A911A7031CE6CAFAFF8E56FF6DE400B0CF3D9B58DDFE3AD0DE7D10214F1F58119C4CE94A7A743D3FA7AE2EC091AC47F47EF7249556D91BFC4A171264CA2547B129305E76D373A1A90B91E545D6694B807B703BB05F78C85B9CDE49B89677A29586DC1C7C15C178C0CA3ED41CCBD8A3300CC1429195FCCE75DF5786CC4BCD75EB603823C96B53F148C91F584EE1B364D5D0AFE7F0CC93C5221EA7729838A74D25570F3E23B5FFBF83C747EA7F0687083FF08E6981AE5F52C61CD5382D68537E5D9679776D70DAF7585D97999F15A040B2FE840D2CFADB6F5D20A9DC3D70DEF2B2A7C04B9C4EBA833206F14F1E4C2170E457B597E3D6329D049A5EBF52FEE3DBFE681B448013B2BA00E3390A783977B0CC946F3122DF914A3C1BEFC3ED7539885E3AD60A2144A9CEC7B7A7924E94D3BB60C2E62D80EF05E3ABA38DD3CE6D01EB2E147ADF049DC3E0FFA7097D3F95B270DE2B6854C2606AD72B6FAEDA92692142CAFE7843BACD7D796A853C78A5A29599975F2B387207E03F620E03A6B9867FA0A5761FE373D4F13997C920D64FD3550363C74DA8F166163DAD92A9152E51F72128C8408A06E6E90390F63E84BB4AD68854F562E9A5B9BF4D54C16F9B89258AE2FB327CEAE25E3C0A45DA970DC14EA469888D65DD96AE180AF297370F26F34D52BB6271562871907C71D541DFBBD5A7C2EEDBAAC1C65E06400B08BBE880BBA0873FCB0CC2100F73C9AFAE74EE142F6AA5417B23051F2F09BD45171C38BAB147F5BB0EA793AB3ED30B1FE8674199331AB9FB8F14EA83FCB612F089205AFF6BBDFBC653F24A25343405C550371A74E60C75F9EF122FA00F1E68AC4B9AE39B38A74D25570F3E23B5FFBF83C747EA7F2D43204DC2B1238E9C66A604E5AD4807C7820E9E79DEA611C880FB30156E8879898C14CD1759EB04256BAD1546A6C43F6AC1D585CF5CD75850A9B6904BAF13271B607A26CD242B20E2093CF7797DD0FEF79E81A7AD78053118DDF39034F4F9B39A6377F15450E9FBFF52B7F495E349C5D718D850E0150D4342AE82DACAC231DA7739C81F5BD9D4E1442BBCC40BE4FDE1DB95CA811E0E06D8A7EBC1BE7C4034FC22D5DC920F5CDA0AAE74EC9795D80E2D79C3D8CA219FBD9EC9A1A138542A233163FA0ABDCE3E0DFD774AA167F868E69B562DC7BBEBB44D7788B1112E2B1D4AF7CCE2E692098A60262BB1879256A50ACC496DB73881AC2C5A5200FF71F5CDC65244CD3D3C675CB2255B3BC3B3E46E16F6872CED607DD31C3E7988F43B925F9388B816C823FB0664B604304CACBC92FA743B3801E5439D72EE0ADDEB5EBF231BE7FF0A05E93828BC80F520FE614C7641E52478295D1FB3782380E9B28A83ED77558A417A876406287E8BE4CBD4A9ED804FB24AA06B7CBD37CF729CF8273379533B1C625B0ED7CCA43D8F3EABEB13584BD126AECE1C58A2D44E4544FBAF8631D2C895568D5F9D24209B327D58E0141CBF1406C87196B2508011880E8D409A597109CE1F72711C404DAC52DAA9A61A9F07E05C5A46B88E534544A2DB5F6D0894424D4C4CD6F84CF124B6D1394087C2F2B6C9A4E075B578B7256B625F8FFAF51CD451EDF75AD7D0C3B2D37274D75FB377E3A9C0E8CABD205FB0D987A12A963F20E6E61AC3FC0373E88E8F17AAED57D820E1920A863FE77B876A636560664104C6E1C6316BAA32D348CA07E847BDB3FA90093D359A69AAC4A9D1EEA37FF949DC5E90484FA080FD090CE6E2C390FA03CD5FC4FD417E9AE9CCE8083689699F4957230CEE536AC8C3F83C9DC3969C39EB46EDFA1D0E932604C792021232C26CED43E06216BDCCD67378A6126E3778048FFD51A3C55ABB09F063932693D17384DECB86A4DC5DFF3B0A9422A2D3FA5999E621A22F6EEA25AFA86FEA1CB9E5A7D3446DA282174A62FD4A319C5CC528A1923EEBA6CB9B9A5AFF5D86D225FA47669F6050AE7C69A6C8DF94AE55D39E57C36B41F1D3A570C212B88B14B6BAC9DACAE2488C964B2AC58100D9954C6144A3DED06C24FBCCE33B4F564A93DDD23EF8B9A4193783AD0B4ECEB885B703636D031ED69FD7F190058695816375A5A77C422BFC47A76285BC39A3764AD93FAD73FF6E9EA674AA128078B49554CDDAA3B57103AB4D66FBB7742E731148CEE76685733FB5EB0C3BA9867E542AC13704FDB918F605FE884E675791991C56CC88A1D99840A2FE7070E78AF6B513D0E862B579A1B44EFAA495705E40E8DB2EF03828E12CBB82E4B9F00BDD9C5B68455D07E67D3024DCC4659EB56FB56C481E11E63786F9ED81D081E8FE86E2D5FC8F611F2EB35F9D1C02823637F7CC7A43901AF9EAB9FD2873F114949927EFCAF4643E2D503714FECE81815575D4F2A1B530D96A9A073D0045209B976AB6AE22BE70D301DE558E04520FCE54BCF91498F5D43DFF4533BB7E9BDFD7987B42D52590D0368DFE4DF05FC4E8B3FF87960428CA58A75A84D168C77DFA36B173FA67C7819FC7F6E30F317F2C0A02F3275DD4E3B1BD44037D8771454D794E1F6445DE80DD46476599214F178F119BA042BA94BE27FFED8194647641DA08425A351CF775534FD242064019BBDE2BBC534D7D6352BE439FB415AAC27928E9F75B5336F3088238B09F5E60CC6FF57C7974FD51BCF041BF52739B492E4F73DE605C596A3CA174A527A3A1F0692BA20045F00022FCE51AF652A0B55F18AB2D183FB8753FF90708AE748E98F02B91C4FC0351710D6DD3F78BB20EBF9414BAA48187923C6A2160A4758770E19D7D16CDDD266D66660CFBE313E16D9958C32CB4ABF8EEB43DE501D130907414408C7DE9EF6EDAA61D91CBB7162C7AE314F428D1D7AB85E5E7B943221E5DB41BDF7DDA913EF8923AD274169AC62147A0BA06FE290665A0144F68A82B624DEBC74562FB5C43382931D92736F854F9F1E6B91C5BE5E2EA4C8A503D6B550949E964C623DAAD38CD92E96CB6EE104FF5D35B09F1159CA866ED66D2341658ECAAAF13C14CA907576A545C975EB475CCD6978682E5712984D5A170B5896D5F6893D3CAF7C9D866F44B07F2191AFC6E3692FE37873EC278B4EB190E8A63327B4AD23AF842930093895F6414C14BEBEF50C7FBFCF208CB9527FE7C75CFB4579338AB30417E0C62AB4B7B4DABAB646A0D3930930F10E5B0B61E2428E32D25C5A2E2D4C9E043D2CBD5A4DFB46B6F8DB112476AED0616A3042AD4EAC926AA4B33123D9249227804E3F179E0A887A2E3A6672A8B0C0BF3A086670A0EE7A7FA0FFBFFD6463DF86E0A7937D94DE020FF386B11D8A8092725DCDC4F8E1E33FFCDE1B3861A23B94DF41032930F5AC20D71A0A0811FD229D588C2FBE25087EC4BA79A5AFF5D86D225FA47669F6050AE7C6965579244FED6515DDF78DE547DFD282521265EABD20DD55ECCB65B809FA2FFFA9A19820346EF9BB3AF6FA6035D49E64838A74D25570F3E23B5FFBF83C747EA7F6DE2425945FED455CA4D2F53FC4FC102A3324171933B5321EF7EA05CAAC96621A0AA03A5CE2E7CD6B0CF7DC73984E222F3F157395969535122482FDB32307D8B9FAE53F710FD68CB23835F1DA6682A3800EF3136749F736100B796600E1BCE97BF7CDEC3053B3CD1C8966DF0A0D919FCD4946A9F1F01D25A1A0F5FC3564B578B2EA704E16FD112D62FFF7D67855AE4BA4240EC86E3F446314D683FD8566FDA9F8B6A5236A394780ABC2BFC9826D6087038A74D25570F3E23B5FFBF83C747EA7F3FDB7724D95B867AFD558A9A34A838A6DF3DB94B8F377963E606EE3CFAAAE77B5BB09A44D667730BD246C6C961A5DCAAE595E1FB1A8B918E7E0FDBF2A5E5739B0E1D2D6C660743BFA2B8918C148BA4430E8619F4FEAB627FD0686EB5F8CDB34AE279570A1A7AD000C0A9B9FAF2EF3B1BF33F4CCC58CAF0865380AED460CCCA86BA7C345D1335BBFD436A3FEAB5782DC729DB76D7F0090EAC784D1489279E902C6CECE914DA2C03E3C39D5757024377EAB999D566FEAE8386CCC202A014E7C2385B60D7B86D045689302301AFE6EBED3D8639CC195C24B2DCFC137FE6A40A8263B7AECAE5CD75309493EFBB3409557D55A149A9EC868A99BDC39FFC087C35C8B8CA73583A6F8B1BE1697ED15FE61977AD4AAC5201F983B28A25E16FF94C0CF3F544575431809EDAEBE9C5E892EC80B08116283CB11EC2003868EB68FD35682BE7C0B813DCE431EC74B448CEAA6ED7D03704AA95635B2A8874E86215849EDBE023A2028E40FCAC5FEDA85DB850737AD297B839AE008BF70EF0AEF670DB188963DEA290A814C7A2FE2785A2334013893802850241CEF9FF539C371215B40B7BA4A4B8740FBDA00B59885C985DC88AA3259071377288008C225EA9926CFEA0E20847A9203D5E4219EAFE7B89560F05FC6D819EDC0C63A99235B533D815C5C3E8491E79C16E0D8F2E2F0E04C9D65D714B1AC3C3D600B7510516E28BB74DB94A1D7CAB1C14DBEC4D9167FED4C137E6C63BE632A605605A55F376DB7D714704385B606B182C82BB366B13D0C7B5431E14BFCFA873553744BF32A29962054B2881210BA525C5A2E2D4C9E043D2CBD5A4DFB46B6F85D0F4E1C50017471CA066F0831B90402FD731D794D0C4FAD752A9122927C614B250C34404CF7F5C5F55B2C8FF6D511E38A74D25570F3E23B5FFBF83C747EA7F214006031273D24424F4217EFDC46EEB2479008339ED51FC3E962748583FA29A958F3D4D7BEE293A132D87B9BC4F43C8EB78CBAC9F194BDCB9C6BD12C07BE24265512FF8F8ECC96AC1ACD65C5BDA8AFE3163660B5C12D1F8C92F8126D10228055386497A67BE7710963E761D084B561E6EA8F40B2C90C724F0A862D19917A9797B0ED7F75EBE95415DB6A20A2F7BB58590F6B6E4DBE99F209CE9129B1C7B0A29AC827032B41D437A739F218E7E7E0CE0852E6C3E465958BD6637B9C9154D9BD7B21B18D9FB4EF86C84E3919C5C7D3E2A3163660B5C12D1F8C92F8126D102280533CB5E1A7114ED93F1A2453B9BE3C4145D6D858A50E211B38E34848749051A47564B124732C9B28E8D6682B888E1B07B81BDECF0AA5B2BD088A2218186DAA23D384C58413126FCCE234BAFF40717440F401A78F542137E4F3F15BDF307D2E301A84DD6A1491C617C657B0D5233A7B8BB50C807F7D47849CF0A4A6E59264B333B2D6B388B57E3FDA3DBBD33C5C723F7AD2D4FD46E3BCB072B16632FBF27AAC04FE63730A02B472167F2E3565E29ACF6ABB9A3D1FFC53B1A76C4B9FE8AFC0E05603F46325F129E516F5E84D33C59479A877C1926DE712CEC28961BE5F2BF471D74C5AC127CC596378B6541AF1B9C7BE1DAAEAFC27CBA35647E039E8DC1BF4487FF8F39E792DE5DB40A5ACCB992FA1E7F710C0C98FC7A5E61DEE5842E35D6C1902586E2C0D93FDE670F1B26A68966D7ADE2786ACEC3B3BDD86833F9BD84BEA2281AA58AB861D35298B459FAA160D6E6150FD899999AA4BE19B1E54770C00525D780B878533E63B13C4EF595AE154B7ADACE85F04913F531B93670A5103ADE23F40434915F1835643BBFC2B139D2255E5262A64F30D74259F2F77CE8308BD4B5B39F6B88DD69694294FD14D930105A605A6296211EEA843F7F4EEC53F7AF56DE103E1C147C9CCBDDC12FB74E54752C8BB5722CE94053DE9698883A75D54B24CED1A3E323DB88B0320A1C751C2DBC0957425B8630B5E8635D73811B2AE4F4DF5D3DBD8046E4F7F8765410A0238B200F7F480AEAB125CE14B61329FF2E04E99200E5903E49D5C98C18ACF066549DC681F19BAD7FEA815EC8DCBC48EA53D2E5354C7F225E77E16552C85D0BBDA7816902AB0443680DB632927F2C4C1AF3EC530359CE0D2796CFE53DC79040DFD39AA5419E85FD3E6978A74FE83E4B133DF1AB846FB8F10F1747EB24739F7F730BEE4B92817EC75C47C8E94C685002D77F8541563A58C491D99210F059B4D679104968976CE971"
  };

  // final recommned_result = await Api.recommned(queryParameters: Sign_params);

  final fingerprint_result = await Api.fingerprint(
      queryParameters: fingerprint_Sign_params, option: options,data: data);
}
